(function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,i=this,s=i.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),s="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(s?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,s=this.getListenersAsObject(e);for(i in s)s.hasOwnProperty(i)&&(r=t(s[i],n),-1!==r&&s[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)s.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?s.call(this,r,i):o.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,s,o,u=this.getListenersAsObject(e);for(s in u)if(u.hasOwnProperty(s))for(n=u[s].slice(0),i=0;i<n.length;i++)r=n[i],r.once===!0&&this.removeListener(e,r.listener),o=r.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=s,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:i.EventEmitter=e}).call(this);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkV2ZW50RW1pdHRlci5taW4uanMiXSwibmFtZXMiOlsidCIsImkiLCJuIiwiZSIsImxlbmd0aCIsImxpc3RlbmVyIiwidGhpcyIsImFwcGx5IiwiYXJndW1lbnRzIiwicHJvdG90eXBlIiwiciIsInMiLCJFdmVudEVtaXR0ZXIiLCJnZXRMaXN0ZW5lcnMiLCJfZ2V0RXZlbnRzIiwiUmVnRXhwIiwiaGFzT3duUHJvcGVydHkiLCJ0ZXN0IiwiZmxhdHRlbkxpc3RlbmVycyIsInB1c2giLCJnZXRMaXN0ZW5lcnNBc09iamVjdCIsIkFycmF5IiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib24iLCJhZGRPbmNlTGlzdGVuZXIiLCJkZWZpbmVFdmVudCIsImRlZmluZUV2ZW50cyIsInJlbW92ZUxpc3RlbmVyIiwic3BsaWNlIiwib2ZmIiwiYWRkTGlzdGVuZXJzIiwibWFuaXB1bGF0ZUxpc3RlbmVycyIsInJlbW92ZUxpc3RlbmVycyIsIm8iLCJjYWxsIiwicmVtb3ZlRXZlbnQiLCJfZXZlbnRzIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdEV2ZW50IiwidSIsInNsaWNlIiwiX2dldE9uY2VSZXR1cm5WYWx1ZSIsInRyaWdnZXIiLCJlbWl0Iiwic2V0T25jZVJldHVyblZhbHVlIiwiX29uY2VSZXR1cm5WYWx1ZSIsIm5vQ29uZmxpY3QiLCJkZWZpbmUiLCJhbWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQ0FNQSxXQUFZLFlBQWEsU0FBU0EsTUFBSyxRQUFTQyxHQUFFRCxFQUFFRSxHQUFHLElBQUksR0FBSUMsR0FBRUgsRUFBRUksT0FBT0QsS0FBSyxHQUFHSCxFQUFFRyxHQUFHRSxXQUFXSCxFQUFFLE1BQU9DLEVBQUUsVUFBUyxRQUFTRCxHQUFFQyxHQUFHLE1BQU8sWUFBVyxNQUFPRyxNQUFLSCxHQUFHSSxNQUFNRCxLQUFLRSxZQUFZLEdBQUlMLEdBQUVILEVBQUVTLFVBQVVDLEVBQUVKLEtBQUtLLEVBQUVELEVBQUVFLFlBQWFULEdBQUVV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QUksZ0JBQWlCa0QsU0FBUUEsT0FBT0MsUUFBUUQsT0FBT0MsUUFBUW5ELEVBQUVVLEVBQUVFLGFBQWFaLElBQUltQyxLQUFLN0IiLCJmaWxlIjoiRXZlbnRFbWl0dGVyLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogRXZlbnRFbWl0dGVyIHY1LjEuMCAtIGdpdC5pby9lZVxuICogVW5saWNlbnNlIC0gaHR0cDovL3VubGljZW5zZS5vcmcvXG4gKiBPbGl2ZXIgQ2FsZHdlbGwgLSBodHRwOi8vb2xpLm1lLnVrL1xuICogQHByZXNlcnZlXG4gKi9cbihmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoKXt9ZnVuY3Rpb24gaSh0LG4pe2Zvcih2YXIgZT10Lmxlbmd0aDtlLS07KWlmKHRbZV0ubGlzdGVuZXI9PT1uKXJldHVybiBlO3JldHVybi0xfWZ1bmN0aW9uIG4oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbZV0uYXBwbHkodGhpcyxhcmd1bWVudHMpfX12YXIgZT10LnByb3RvdHlwZSxyPXRoaXMscz1yLkV2ZW50RW1pdHRlcjtlLmdldExpc3RlbmVycz1mdW5jdGlvbihuKXt2YXIgcixlLHQ9dGhpcy5fZ2V0RXZlbnRzKCk7aWYobiBpbnN0YW5jZW9mIFJlZ0V4cCl7cj17fTtmb3IoZSBpbiB0KXQuaGFzT3duUHJvcGVydHkoZSkmJm4udGVzdChlKSYmKHJbZV09dFtlXSl9ZWxzZSByPXRbbl18fCh0W25dPVtdKTtyZXR1cm4gcn0sZS5mbGF0dGVuTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3ZhciBlLG49W107Zm9yKGU9MDtlPHQubGVuZ3RoO2UrPTEpbi5wdXNoKHRbZV0ubGlzdGVuZXIpO3JldHVybiBufSxlLmdldExpc3RlbmVyc0FzT2JqZWN0PWZ1bmN0aW9uKG4pe3ZhciBlLHQ9dGhpcy5nZXRMaXN0ZW5lcnMobik7cmV0dXJuIHQgaW5zdGFuY2VvZiBBcnJheSYmKGU9e30sZVtuXT10KSxlfHx0fSxlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKHIsZSl7dmFyIHQsbj10aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KHIpLHM9XCJvYmplY3RcIj09dHlwZW9mIGU7Zm9yKHQgaW4gbiluLmhhc093blByb3BlcnR5KHQpJiYtMT09PWkoblt0XSxlKSYmblt0XS5wdXNoKHM/ZTp7bGlzdGVuZXI6ZSxvbmNlOiExfSk7cmV0dXJuIHRoaXN9LGUub249bihcImFkZExpc3RlbmVyXCIpLGUuYWRkT25jZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYWRkTGlzdGVuZXIoZSx7bGlzdGVuZXI6dCxvbmNlOiEwfSl9LGUub25jZT1uKFwiYWRkT25jZUxpc3RlbmVyXCIpLGUuZGVmaW5lRXZlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0TGlzdGVuZXJzKGUpLHRoaXN9LGUuZGVmaW5lRXZlbnRzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSs9MSl0aGlzLmRlZmluZUV2ZW50KHRbZV0pO3JldHVybiB0aGlzfSxlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKHIscyl7dmFyIG4sZSx0PXRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3Qocik7Zm9yKGUgaW4gdCl0Lmhhc093blByb3BlcnR5KGUpJiYobj1pKHRbZV0scyksLTEhPT1uJiZ0W2VdLnNwbGljZShuLDEpKTtyZXR1cm4gdGhpc30sZS5vZmY9bihcInJlbW92ZUxpc3RlbmVyXCIpLGUuYWRkTGlzdGVuZXJzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubWFuaXB1bGF0ZUxpc3RlbmVycyghMSxlLHQpfSxlLnJlbW92ZUxpc3RlbmVycz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnMoITAsZSx0KX0sZS5tYW5pcHVsYXRlTGlzdGVuZXJzPWZ1bmN0aW9uKHIsdCxpKXt2YXIgZSxuLHM9cj90aGlzLnJlbW92ZUxpc3RlbmVyOnRoaXMuYWRkTGlzdGVuZXIsbz1yP3RoaXMucmVtb3ZlTGlzdGVuZXJzOnRoaXMuYWRkTGlzdGVuZXJzO2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgUmVnRXhwKWZvcihlPWkubGVuZ3RoO2UtLTspcy5jYWxsKHRoaXMsdCxpW2VdKTtlbHNlIGZvcihlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmKG49dFtlXSkmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuP3MuY2FsbCh0aGlzLGUsbik6by5jYWxsKHRoaXMsZSxuKSk7cmV0dXJuIHRoaXN9LGUucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQscj10eXBlb2YgZSxuPXRoaXMuX2dldEV2ZW50cygpO2lmKFwic3RyaW5nXCI9PT1yKWRlbGV0ZSBuW2VdO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIFJlZ0V4cClmb3IodCBpbiBuKW4uaGFzT3duUHJvcGVydHkodCkmJmUudGVzdCh0KSYmZGVsZXRlIG5bdF07ZWxzZSBkZWxldGUgdGhpcy5fZXZlbnRzO3JldHVybiB0aGlzfSxlLnJlbW92ZUFsbExpc3RlbmVycz1uKFwicmVtb3ZlRXZlbnRcIiksZS5lbWl0RXZlbnQ9ZnVuY3Rpb24obix1KXt2YXIgcixlLHQsaSxvLHM9dGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChuKTtmb3IoaSBpbiBzKWlmKHMuaGFzT3duUHJvcGVydHkoaSkpZm9yKHI9c1tpXS5zbGljZSgwKSx0PTA7dDxyLmxlbmd0aDt0KyspZT1yW3RdLGUub25jZT09PSEwJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKG4sZS5saXN0ZW5lciksbz1lLmxpc3RlbmVyLmFwcGx5KHRoaXMsdXx8W10pLG89PT10aGlzLl9nZXRPbmNlUmV0dXJuVmFsdWUoKSYmdGhpcy5yZW1vdmVMaXN0ZW5lcihuLGUubGlzdGVuZXIpO3JldHVybiB0aGlzfSxlLnRyaWdnZXI9bihcImVtaXRFdmVudFwiKSxlLmVtaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiB0aGlzLmVtaXRFdmVudChlLHQpfSxlLnNldE9uY2VSZXR1cm5WYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fb25jZVJldHVyblZhbHVlPWUsdGhpc30sZS5fZ2V0T25jZVJldHVyblZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzT3duUHJvcGVydHkoXCJfb25jZVJldHVyblZhbHVlXCIpP3RoaXMuX29uY2VSZXR1cm5WYWx1ZTohMH0sZS5fZ2V0RXZlbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSl9LHQubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiByLkV2ZW50RW1pdHRlcj1zLHR9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gdH0pOlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPXQ6ci5FdmVudEVtaXR0ZXI9dH0pLmNhbGwodGhpcyk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
